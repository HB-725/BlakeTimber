<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
  <meta charset="utf-8">
  <!-- Responsive viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
    rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Custom stylesheet -->
  <link href="{% static 'inventory/style.css' %}" rel="stylesheet">
  <!-- HTMX for small interactivity -->
  <script src="https://unpkg.com/htmx.org@1.9.2"></script>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script id="tailwind-config">
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#166534",
            "background-light": "#f4f4f5",
            "background-dark": "#101622",
          },
          fontFamily: {
            "display": ["Inter", "sans-serif"]
          },
          borderRadius: {
            "DEFAULT": "0.25rem",
            "lg": "0.5rem",
            "xl": "0.75rem",
            "2xl": "1rem",
            "full": "9999px"
          },
        },
      },
    }
  </script>
  <style>
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>

  <title>BlakeTimber</title>
</head>


<body
  class="bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white min-h-screen flex flex-col overflow-x-hidden pb-[80px]">
</body>


<div class="sticky top-0 z-40 w-full">

  {% include "inventory/_header.html" %}

  {% if user.is_authenticated and request.session.admin_mode %}
  <div class="border-b border-amber-200 bg-amber-100 px-4 py-2">
    <div class="flex items-center justify-center gap-2 text-amber-800 text-xs font-bold uppercase tracking-wider">
      <span class="material-symbols-outlined text-[16px]">admin_panel_settings</span>
      Admin Mode
    </div>
  </div>
  {% endif %}
</div>


<body
  class="bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white min-h-screen flex flex-col overflow-x-hidden pb-[80px]">


  {% block content %}
  <main class="flex-1 w-full px-4 pt-4">
    {% with items=categories %}
    {% include 'inventory/card_grid.html' %}
    {% endwith %}
  </main>
  {% endblock %}





  {% if not user.is_authenticated or not request.session.admin_mode %}
  <nav
    class="fixed bottom-0 left-0 right-0 z-50 h-[80px] border-t border-slate-200 dark:border-slate-800 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md safe-area-bottom">
    <div class="grid h-16 grid-cols-3 items-center">
      <a class="group flex flex-col items-center justify-center gap-1.5 px-2 py-1 text-primary" href="#" data-nav-home>
        <i class="fas fa-home text-[20px]"></i>
        <span class="text-[11px] font-semibold">Home</span>
      </a>
      <a class="group flex flex-col items-center justify-center gap-1.5 px-2 py-1 text-slate-400 dark:text-slate-500 hover:text-slate-900 dark:hover:text-white transition-colors"
        href="#" data-tool-open data-nav-tool>
        <i class="fas fa-wrench text-[20px] group-hover:scale-110 transition-transform"></i>
        <span class="text-[11px] font-medium">Tool</span>
      </a>
      <a class="group flex flex-col items-center justify-center gap-1.5 px-2 py-1 text-slate-400 dark:text-slate-500 hover:text-slate-900 dark:hover:text-white transition-colors"
        href="#" data-manage-open data-nav-manage>
        <i class="fas fa-cog text-[20px] group-hover:scale-110 transition-transform"></i>
        <span class="text-[11px] font-medium">Manage</span>
      </a>
    </div>
  </nav>
  {% endif %}
  {% if user.is_authenticated and request.session.admin_mode and not hide_admin_save %}
  <a href="{% url 'admin-mode-exit' %}"
    class="fixed bottom-6 left-1/2 z-50 flex items-center gap-2 -translate-x-1/2 rounded-full bg-primary px-5 py-3 text-white text-xs font-bold uppercase tracking-wider shadow-lg shadow-primary/30 hover:bg-primary-dark transition-colors"
    aria-label="Finish">
    <span class="material-symbols-outlined text-[18px]">check_circle</span>
    Finish
  </a>
  {% endif %}
  <div id="modal-root"></div>
  {% include "inventory/_search_overlay.html" %}
  {% include "inventory/_tool_overlay.html" %}
  {% include "inventory/_manage_overlay.html" %}
  <script>
    window.searchApiUrl = "{% url 'search-products' %}";
  </script>
  <script src="{% static 'inventory/search_page.js' %}"></script>
  <script src="{% static 'inventory/tool_overlay.js' %}"></script>
  <script src="{% static 'inventory/manage_overlay.js' %}"></script>
</body>

</html>
